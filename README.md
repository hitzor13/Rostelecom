# Тесты авторизации Ростелеком ID (https://b2c.passport.rt.ru)

Набор автотестов для проверки сценариев авторизации по e-mail и паролю на странице https://b2c.passport.rt.ru, а так же базовых элементов UI и выхода из личного кабинета(перелогинивание).
(ссылка из брифа, отвечающая за лк https://lk.rt.ru/, делала перенаправление на https://b2c.passport.rt.ru, но постоянно блокировала страницу за подозрительную активность, во время автотестов, я был вынужден поменять ссылку и стало лучше. Наверно, потому что я не из России, сайт считал, что у меня впн)


## Что проверяют тесты

- Успешный вход по e-mail и паролю.
- Негативные сценарии:
  - неверный пароль;
  - неверный формат e-mail;
  - пустые поля;
  - несуществующий e-mail.
- Поведение табов (Номер / Почта / Логин / Лицевой счёт), автопереключение таба при вводе e-mail.
- Маска пароля и кнопка "Показать пароль".
- Переход по ссылке "Забыл пароль".
- Выход из личного кабинета и повторный вход.
- Проверка работы восстановления пароля.

## Используемые инструменты и их описание

- Python 3
1) Почему применяли: автотесты писались на Python, и это стандартный стек для UI-тестирования в связке с Selenium.
2) Что проверялось: логика авторизации и элементы интерфейса (вкладки, ссылки, ошибки, маска пароля).
3) Что сделано: написаны тесты в файлах tests/test_login_ui.py, tests/test_login_email.py, tests/test_logout.py, test_password_recovery.py.
- PyTest
1) Почему применяли: удобный запуск тестов, фикстуры для браузера/данных, маркировка тестов (@pytest.mark.ui).
2) Что проверялось: набор UI-тестов на форму авторизации/выход/восстановление пароля.
3) Что сделано:
   - использовались фикстуры в conftest.py: driver, base_url, test_email, test_password
   - применяли маркер @pytest.mark.ui
   - запускали тесты командами вида: pytest -v tests/test_login_email.py::test_login_email_success
- Selenium WebDriver (Chrome)
1) Почему применяли: нужен реальный браузер для проверки UI, кликов, ввода текста и переходов по страницам.
2) Что проверялось:
   - присутствие и активность вкладок авторизации 
   - переход по ссылке "Забыл пароль"
   - ввод логина/пароля 
   - появление ошибок при неправильных данных 
   - маска пароля / переключение видимости пароля 
   - выход из ЛК (logout)
   - Проверка формы восстановления пароля
3) Что сделано:
   - driver.get() открывает страницу
   - find_element / find_elements ищет элементы
   - send_keys() вводит значения
   - click() кликает
   - driver.current_url проверяет ссылку куда попали
Так же выполнены:
   - WebDriverWait + expected_conditions - для того, что бы элементы ("забыл пароль", переключение табов итд) успевали появиться
   - time.sleep() - для ручного ввода капчи
   - driver.delete_all_cookies() - до и после теста, для очистки куки, пытался обойти блокировку сайта после каждого теста
   - driver.quit() - закрытие браузера после каждого теста, тоже самое, пытался обойти блокировку сайта


## Команды для запуска тестов
- Запуск всех тестов: pytest -v
- Запуск конкретного файла: pytest -v tests/test_login_ui.py, pytest -v tests/test_login_email.py, pytest -v tests/test_logout.py, pytest -v tests/test_password_recovery.py
- Запуск одного конкретного теста: pytest -v путь_к_файлу::test_name (например: pytest -v tests/test_login_email.py::test_login_email_success)
- Запуск только UI тестов: pytest -v -m ui
- Запуск с выводом print() в консоль, если нужна опция ввода капчи сайта через консоль: pytest -v -s

## Структура проекта

C:\Users\User\PycharmProjects\rostelecom\
  tests\
    conftest.py
    test_login_email.py
    test_login_ui.py
    test_logout.py
    test_password_recovery.py
  README.md
  requirements.txt
